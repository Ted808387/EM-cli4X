(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-385c1ad6"],{1799:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("nav",{staticClass:"FrontPage",attrs:{"aria-label":"FrontPage"}},[s("ul",{staticClass:"pagination front-font-size"},[s("li",{staticClass:"page-item",class:{disabled:!t.getpagination.has_pre}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.updatapage(t.getpagination.current_page-1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.getpagination.total_pages,(function(a){return s("li",{key:a,staticClass:"page-item",class:{active:t.getpagination.current_page===a}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updatapage(a)}}},[t._v(t._s(a))])])})),s("li",{staticClass:"page-item",class:{disabled:!t.getpagination.has_next}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.updatapage(t.getpagination.current_page+1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},i=[],n={props:["getpagination"],methods:{updatapage:function(t){this.$emit("userpage",t)}}},o=n,c=(s("233d"),s("2877")),r=Object(c["a"])(o,e,i,!1,null,"ffab0482",null);a["a"]=r.exports},"233d":function(t,a,s){"use strict";var e=s("c9a2"),i=s.n(e);i.a},"4c04":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("div",{staticClass:"row mt-4"},t._l(t.products,(function(a){return s("div",{key:a.id,staticClass:"col-md-4 mb-4"},[s("div",{staticClass:"card border-0 shadow-sm"},[s("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.imageUrl+")"}}),s("div",{staticClass:"card-body"},[s("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(a.category))]),s("h5",{staticClass:"card-title"},[s("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(a.title))])]),s("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),s("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.price?t._e():s("div",{staticClass:"h5"},[t._v(t._s(a.origin_price))]),a.price?s("del",{staticClass:"h6"},[t._v(t._s(a.origin_price))]):t._e(),a.price?s("div",{staticClass:"h5"},[t._v(t._s(a.price))]):t._e()])]),s("div",{staticClass:"card-footer d-flex"},[s("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(s){return t.getproduct(a.id)}}},[t.status.loading===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 查看更多 ")]),s("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(s){return t.addtoCar(a.id)}}},[t.status.loading===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加到購物車 ")])])])])})),0),s("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content border-0"},[s("div",{staticClass:"modal-header bg-dark text-white"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.product.title))]),t._m(0)]),s("div",{staticClass:"modal-body"},[s("img",{staticClass:"img-fluid mx-auto d-block",staticStyle:{height:"400px"},attrs:{src:t.product.imageUrl,alt:""}}),s("blockquote",{staticClass:"blockquote mt-3"},[s("p",{staticClass:"mb-0"},[t._v(t._s(t.product.content))]),s("footer",{staticClass:"blockquote-footer text-right"},[t._v(t._s(t.product.description))])]),s("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.product.price?t._e():s("div",{staticClass:"h5"},[t._v(t._s(t.product.origin_price))]),t.product.price?s("del",{staticClass:"h6"},[t._v(t._s(t.product.origin_price))]):t._e(),t.product.price?s("div",{staticClass:"h5"},[t._v(t._s(t.product.price))]):t._e()]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.product,"num",a.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v("-- 選購數量 --")]),t._l(10,(function(a){return s("option",{key:a,domProps:{value:a}},[t._v("選購 "+t._s(a)+" "+t._s(t.product.unit))])}))],2)]),s("div",{staticClass:"modal-footer"},[s("div",{staticClass:"text-muted text-nowrap mr-3"},[t._v(" 小計 "),s("strong",[t._v(t._s(t.product.num*t.product.price))]),t._v(" 元 ")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.addtoCar(t.product.id,t.product.num)}}},[t._v(" 加到購物車 ")])])])])]),s("pagination",{attrs:{getpagination:t.pagination},on:{userpage:t.getproducts}})],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],n=(s("99af"),s("1157")),o=s.n(n),c=s("1799"),r={data:function(){return{products:[],isLoading:!1,product:{},pagination:{},status:{loading:{}}}},components:{pagination:c["a"]},methods:{getproducts:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("tedcode","/products?page=").concat(t);a.isLoading=!0,a.$http.get(s).then((function(t){a.products=t.data.products,a.pagination=t.data.pagination,a.isLoading=!1}))},getproduct:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("tedcode","/product/").concat(t);a.status.loading=t,a.$http.get(s).then((function(t){a.product=t.data.product,o()("#productModal").modal("show"),a.status.loading="",a.product.num=0}))},addtoCar:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("tedcode","/cart");s.status.loading=t;var i={product_id:t,qty:a};s.$http.post(e,{data:i}).then((function(){s.status.loading="",o()("#productModal").modal("hide"),s.gettoCar()}))},gettoCar:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("tedcode","/cart");t.isLoading=!0,t.$http.get(a).then((function(a){t.Cart=a.data.data,t.isLoading=!1}))}},created:function(){this.getproducts()}},d=r,l=s("2877"),u=Object(l["a"])(d,e,i,!1,null,null,null);a["default"]=u.exports},c9a2:function(t,a,s){}}]);
//# sourceMappingURL=chunk-385c1ad6.b85c5e38.js.map