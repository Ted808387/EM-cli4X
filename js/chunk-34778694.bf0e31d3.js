(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34778694"],{"898c":function(t,e,a){},b1bd:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"ordercheck page-expand"},[a("div",{staticClass:"productIn-bg"}),a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 mt-5"},[a("ValidationObserver",{ref:"form",staticClass:"row justify-content-center"},[a("form",{staticClass:"col-md-12"},[a("ValidationProvider",{attrs:{rules:"required|email",name:"email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.failed,r=e.errors;return[a("div",{staticClass:"form-group"},[a("h4",{staticClass:"mb-3 font-weight-bold"},[t._v("連繫資訊")]),a("label",{attrs:{for:"useremail"}},[t._v("Email "),a("span",{staticClass:"text-danger font-weight-bold"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":s},attrs:{type:"email",id:"useremail",name:"email",placeholder:"請輸入 Email",required:""},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),s?a("span",{staticClass:"text-danger"},[t._v(t._s(r[0]))]):t._e()])]}}])}),a("ValidationProvider",{attrs:{rules:"required",name:"name"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.failed;return[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("姓名 "),a("span",{staticClass:"text-danger font-weight-bold"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:{"is-invalid":s},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名",required:""},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),s?a("span",{staticClass:"text-danger"},[t._v("姓名為必填")]):t._e()])]}}])}),a("ValidationProvider",{attrs:{rules:"required",name:"tel"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.failed;return[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usertel"}},[t._v("電話 "),a("span",{staticClass:"text-danger font-weight-bold"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:{"is-invalid":s},attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話",name:"tel",required:""},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),s?a("span",{staticClass:"text-danger"},[t._v("電話為必填")]):t._e()])]}}])}),a("ValidationProvider",{attrs:{rules:"required",name:"address"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.failed;return[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("地址 "),a("span",{staticClass:"text-danger font-weight-bold"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:{"is-invalid":s},attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址",required:""},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),s?a("span",{staticClass:"text-danger"},[t._v("地址欄位為必填")]):t._e()])]}}])}),a("ValidationProvider",{attrs:{rules:"required",name:"method"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.failed;return[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"payment"}},[t._v("付款方式 "),a("span",{staticClass:"text-danger font-weight-bold"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.user.method,expression:"form.user.method"}],staticClass:"form-control",class:{"is-invalid":s},attrs:{id:"payment",name:"payment",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form.user,"method",e.target.multiple?a:a[0])}}},[a("option",{attrs:{selected:"",disabled:"",hidden:""}},[t._v("選擇付款方式")]),a("option",[t._v("貨到付款")]),a("option",[t._v("超商取貨付款")]),a("option",[t._v("ATM轉帳")]),a("option",[t._v("超商代碼繳費")])]),s?a("span",{staticClass:"text-danger"},[t._v("付款方式為必填")]):t._e()])]}}])}),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"comment"}},[t._v("其他")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.user.message,expression:"form.user.message"}],staticClass:"form-control",staticStyle:{resize:"none"},attrs:{name:"",id:"comment",cols:"30",rows:"10",placeholder:"留言其他建議"},domProps:{value:t.form.user.message},on:{input:function(e){e.target.composing||t.$set(t.form.user,"message",e.target.value)}}})])],1)])],1),a("div",{staticClass:"col-sm-6 mt-5",staticStyle:{"border-left":"1px solid #adb5bd"}},[a("div",{staticClass:"order-card"},[a("h4",{staticClass:"mb-5 font-weight-bold"},[t._v("你的訂單")]),a("table",{staticClass:"table"},[t._m(1),a("tbody",t._l(t.Cart.carts,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.product.title)+" X "+t._s(e.qty))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.total)))])])})),0),a("tfoot",[a("tr",[t._m(2),a("td",{staticClass:"text-right"},[t.Cart.total===t.Cart.final_total?a("h5",[t._v(t._s(t._f("currency")(t.Cart.total)))]):t._e(),t.Cart.total!==t.Cart.final_total?a("h5",{staticClass:"text-primary font-weight-bold"},[t._v("折扣 "+t._s(t._f("currency")(t.Cart.final_total)))]):t._e()])]),a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:"2"}},[a("button",{staticClass:"btn btn-primary mt-3 font-weight-bold",staticStyle:{width:"100%"},on:{click:function(e){return e.preventDefault(),t.createdOrder(e)}}},[t._v("送出訂單")])])])])])])])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pt-5 pb-5 d-flex justify-content-between order-title"},[a("div",{staticClass:"order-process text-primary text-center"},[a("div",{staticClass:"process border border-primary bg-white text-primary mx-auto"},[t._v("1")]),a("h5",{staticClass:"process-title font-weight-bold mt-2"},[t._v("訂購資料")])]),a("div",{staticClass:"order-process text-primary text-center"},[a("div",{staticClass:"process bg-primary text-white mx-auto"},[t._v("2")]),a("h5",{staticClass:"process-title font-weight-bold mt-2"},[t._v("訂單付款")])]),a("div",{staticClass:"order-process text-primary text-center"},[a("div",{staticClass:"process bg-primary text-white mx-auto"},[t._v("3")]),a("h5",{staticClass:"process-title font-weight-bold mt-2"},[t._v("付款成功")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"85%"}},[t._v("產品名稱")]),a("th",[t._v("價格")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"font-weight-bold align-middle"},[a("h5",{staticClass:"font-weight-bold"},[t._v("總價")])])}],o=(a("99af"),{data:function(){return{form:{user:{name:"",email:"",tel:"",address:"",message:"",method:""}},Cart:{},isLoading:!1}},methods:{gettoCar:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("tedcode","/cart");t.isLoading=!0,t.$http.get(e).then((function(e){t.Cart=e.data.data,t.isLoading=!1}))},createdOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("tedcode","/order"),a=t.form;t.$refs.form.validate().then((function(s){s?t.$http.post(e,{data:a}).then((function(e){t.$bus.$emit("message:push","已建立訂單","success"),t.isLoading=!1,e.data.success&&t.$router.push({name:"OrderPayment",query:{id:e.data.orderId}})})):t.$bus.$emit("message:push","欄位不完整","danger")}))}},computed:{},created:function(){this.gettoCar()}}),i=o,n=(a("e3df"),a("2877")),l=Object(n["a"])(i,s,r,!1,null,"9e9b137c",null);e["default"]=l.exports},e3df:function(t,e,a){"use strict";var s=a("898c"),r=a.n(s);r.a}}]);
//# sourceMappingURL=chunk-34778694.bf0e31d3.js.map